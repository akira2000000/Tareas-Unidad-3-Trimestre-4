<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternal</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.2/dist/aframe-extras.min.js"></script>

    <script>
        AFRAME.registerComponent('controlaudio',{
              init: function(){
                  let botonControl= this.el;
                  botonControl.addEventListener('click', function(ev){
                      let metodo = ev.srcElement.id;
                      console.log(metodo);
                      let bocina = document.querySelector('#audio');
  
                      if(metodo == "play"){
                          bocina.components.sound.playSound();
                      }
                      if(metodo == "pause"){
                          bocina.components.sound.pauseSound();
                      }
                      if(metodo == "stop"){
                          bocina.components.sound.stopSound();
                      }
                  })
              }
          });
  
      </script>
</head>
<body>
    <a-scene>
        <a-assets>
            <!--Sistema de audio-->
            <audio id="cancion" src"proyecto_prueba/assests/Starlight.mp3" preload="auto"></audio>

            <a-entity  id="estrella" src="proyecto_prueba/assests/glTF/estrella.gltf"></a-entity>
            <a-entity  id="zorro" src="proyecto_prueba/assests/glTF/zorro.gltf"></a-entity>
            <a-entity  id="gato" src="proyecto_prueba/assests/glTF/gato.gltf"></a-entity>
            <a-entity  id="perro" src="proyecto_prueba/assests/glTF/perro.gltf"></a-entity>
            <a-entity  id="luna" src="proyecto_prueba/assests/glTF/luna.gltf"></a-entity>
        </a-assets>
        
        <!--Sonido-->
        <a-entity id="audio" geometry="primitive: plane" material="color: pink" position="-21.64805 6.05165 13.13016" sound="src: proyecto_prueba/assests/Starlight.mp3" rotation="0 90 0"></a-entity>
     <!--Controles Sonido-->
     <a-box id="play" color="red" position="-20 2.5 14.60919" scale="0.3 0.3 0.3" controlaudio></a-box>
     <a-box id="pause" color="blue" position="-20 2.5 11.619" scale="0.3 0.3 0.3" controlaudio></a-box>
 

            <!-- primer punto de vista. -->
            <a-entity id="rig"
            movement-controls="constrainToNavMesh: true;
                controls: checkpoint, gamepad, trackpad, keyboard, nipple;"
                position="0 0 20">
                <a-entity camera
                    position="0 4 0"
                    look-controls="pointerLockEnabled: true">
                    <a-cursor></a-cursor>
                </a-entity>
            </a-entity>
            <!-- Nav mesh.Nueva malla para que choquemos -->
            <a-entity nav-mesh
                normal-material
                visible="false"
                position="0 0 0.38"
                gltf-model="#navmesh"></a-entity>

        <!--Entorno-->
        <a-entity environment="preset: forest; dressingAmount: 1; ground: plane; dressing:trees; dressingScale:0; skyColor:#4864a2"></a-entity>
        <a-plane color="#5b83d4" height="20" width="20" rotation="-90 0 0" scale="18.91632 21.74662 1"></a-plane>

        <!--Personajes-->
        <a-entity gltf-model="#estrella" position="-21.92106 4.60155 13.14214"></a-entity>
        <a-entity gltf-model="#zorro" position="-3.91873 0.36865 13.142" rotation="0 177.30007082984784 0"></a-entity>
        <a-entity gltf-model="#gato" position="-11.86632 0.369 -14.83532" rotation="0 -120.17331386632912 0"></a-entity>
        <a-entity gltf-model="#perro" position="3.59613 0.369 1.23983" rotation="0 -155.4967348939395 0"></a-entity>
        <a-entity gltf-model="#luna" position="-7.39265 3.25863 -6.96672" rotation="0 -142.61205999703756 0"></a-entity>

        <!--Objetos-->
        <a-box src="proyecto_prueba/assests/dibujo1.jpeg" position="9.83061 8.87143 0" scale="0.29937 10.16653 8.71156"></a-box>
        <a-box src="proyecto_prueba/assests/dibujo2.jpeg" position="16.65679 6.67864 -15.24301" scale="0.299 10.167 8.712"></a-box>
        <a-box src="proyecto_prueba/assests/dibujo3.jpeg" position="12.60099 6.763 19.32289" scale="0.299 10.167 8.712"></a-box>
        <a-box src="proyecto_prueba/assests/dibujo4.jpg" position="-19.36041 6.763 -28.37202" scale="0.299 10.167 8.712" rotation="0 90 0"></a-box>
        <a-box src="proyecto_prueba/assests/dibujo5.jpg" position="-2.63804 6.763 -23.47018" scale="0.299 10.167 8.712" rotation="0 90 0"></a-box>
        <a-box src="proyecto_prueba/assests/dibujo6.jpg" position="13.52629 6.763 -26.91024" scale="0.299 10.167 8.712" rotation="0 90 0"></a-box>

        <!--Usuarios-->
        <a-text value="Galati" font="proyecto_prueba/assests/TEXTO/PinkChicken-Regular-msdf.json" font-image="proyecto_prueba/assests/TEXTO/PinkChicken-Regular.png" negate="false" color="black" scale="2 2 2" position="-21.87377 9.22153 13.76673" rotation="0 90 0"></a-text>

        <a-text value="Mercurio" font="proyecto_prueba/assests/TEXTO/PinkChicken-Regular-msdf.json" font-image="proyecto_prueba/assests/TEXTO/PinkChicken-Regular.png" negate="false" color="black" scale="2 2 2" position="-4.22062 5.04304 12.23887" rotation="0 -90 0"></a-text>

        <a-text value="Celeste" font="proyecto_prueba/assests/TEXTO/PinkChicken-Regular-msdf.json" font-image="proyecto_prueba/assests/TEXTO/PinkChicken-Regular.png" negate="false" color="black" scale="2 2 2" position="2.56574 4.92251 0.28465" rotation="0 -56.42545662227861 0"></a-text>

        <a-text value="Jasssss" font="proyecto_prueba/assests/TEXTO/PinkChicken-Regular-msdf.json" font-image="proyecto_prueba/assests/TEXTO/PinkChicken-Regular.png" negate="false" color="black" scale="2 2 2" position="-12.27968 4.57772 -14.70602" rotation="0 -19.7372501266666 0"></a-text>

        <a-text value="Starrr" font="proyecto_prueba/assests/TEXTO/PinkChicken-Regular-msdf.json" font-image="proyecto_prueba/assests/TEXTO/PinkChicken-Regular.png" negate="false" color="black" scale="2 2 2" position="-8.1102 6.34326 -6.90596" rotation="0 -44.333755313837706 0"></a-text>

    </a-scene>
</body>
</html>